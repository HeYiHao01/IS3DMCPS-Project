<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jeesite.modules.twms.dao.WmsGdxdOutDao">
	
	<!-- 查询数据
	<select id="findList" resultType="WmsGdxdOut">
		SELECT ${sqlMap.column.toSql()}
		FROM ${sqlMap.table.toSql()}
		<where>
			${sqlMap.where.toSql()}
		</where>
		ORDER BY ${sqlMap.order.toSql()}
	</select> -->
	<select id="getAllOut" resultType="WmsGdxdOut" parameterType="String">
		select * from wms_gdxd_out_just where to_char(wo_start_time,'yyyy.mm.dd') = #{date}
	</select>
	<select id="getBatchAndTime" resultType="WmsGdxdOut" parameterType="String">
		select batch_no,floor(((to_date(to_char(cast(wo_end_time as date),'yyyy-mm-dd hh24:mi:ss'),'yyyy-mm-dd hh24:mi:ss') - to_date(to_char(cast(wo_start_time as date),'yyyy-mm-dd hh24:mi:ss'),'yyyy-mm-dd hh24:mi:ss')) *24*60)) as boxtotalnum from wms_gdxd_out_just where to_char(wo_start_time,'yyyy.mm.dd') = #{date}
	</select>
	<select id="getByWN" resultType="WmsGdxdOut" parameterType="String">
		select * from wms_gdxd_out_just where wo_no = #{woNo}
	</select>
	
	<select id="getNewAllOut" resultType="WmsGdxdOut" parameterType="String">
		select * from wms_gdxd_out where to_char(wo_start_time,'yyyy.mm.dd') = #{date}
	</select>
	<select id="getNewByWN" resultType="WmsGdxdOut" parameterType="String">
		select * from wms_gdxd_out where wo_no = #{woNo}
	</select>
	<select id="getNewBatchAndTime" resultType="WmsGdxdOut" parameterType="String">
		select batch_no,floor(((to_date(to_char(cast(wo_end_time as date),'yyyy-mm-dd hh24:mi:ss'),'yyyy-mm-dd hh24:mi:ss') - to_date(to_char(cast(wo_start_time as date),'yyyy-mm-dd hh24:mi:ss'),'yyyy-mm-dd hh24:mi:ss')) *24*60)) as boxtotalnum from wms_gdxd_out where to_char(wo_start_time,'yyyy.mm.dd') = #{date}
	</select>
</mapper>